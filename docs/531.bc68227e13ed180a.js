"use strict";(self.webpackChunkmentormunch_public=self.webpackChunkmentormunch_public||[]).push([[531],{6531:(T,c,s)=>{s.r(c),s.d(c,{AuthModule:()=>A});var a=s(177),i=s(9417),f=s(3175),l=s(8498),e=s(4438),p=s(1413),d=s(6977),b=s(9391),g=s(4686);const F=t=>({"bg-gray-300 hover:bg-gray-300":t});function y(t,m){1&t&&e.nrm(0,"span",11)}function v(t,m){1&t&&(e.j41(0,"span"),e.EFF(1,"Entrar"),e.k0s())}let x=(()=>{class t{constructor(r,n,o){this.fb=r,this.authService=n,this.router=o,this.ngUnsubscribe$=new p.B,this.toggleForm=new e.bkB,this.loading=!1}ngOnInit(){this.createForm()}ngOnDestroy(){this.ngUnsubscribe$.next(!0),this.ngUnsubscribe$.complete()}onSubmit(){this.loading=!0,this.signinForm.valid&&this.authService.signin(this.signinForm.value).pipe((0,d.Q)(this.ngUnsubscribe$)).subscribe({next:n=>{this.authService.storeSessionData(n.access_token);let o=b._.parseJwt(n.access_token);this.router.navigate("professor"===o.perfil||"aluno"===o.perfil?["/mentorias"]:["/talentos"])},error:n=>{console.error(n),this.loading=!1},complete:()=>{this.loading=!1}})}createForm(){this.signinForm=this.fb.group({email:["",[i.k0.required,i.k0.email]],password:["",i.k0.required]})}static{this.\u0275fac=function(n){return new(n||t)(e.rXU(i.ok),e.rXU(g.u),e.rXU(l.Ix))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-signin"]],outputs:{toggleForm:"toggleForm"},decls:15,vars:7,consts:[["role","form","aria-labelledby","signin-title",1,"flex","flex-col","items-center","bg-white","p-6","rounded-lg","shadow-md","w-96"],["id","signin-title",1,"text-xl","font-medium","mb-4","text-[#FA5A50]"],[1,"flex","flex-col","w-full","gap-y-4",3,"ngSubmit","formGroup"],["for","email",1,"mt-2","sr-only"],["id","email","type","email","formControlName","email","placeholder","Email","required","","aria-label","Email",1,"p-2","border","border-gray-300","rounded"],["for","password",1,"mt-2","sr-only"],["id","password","type","password","formControlName","password","placeholder","Senha","required","","aria-label","Senha",1,"p-2","border","border-gray-300","rounded"],["type","submit",1,"mt-4","bg-[#A63832]","text-white","p-2","rounded","hover:bg-[#D94A41]","transition",3,"disabled","ngClass"],["class","inline-block h-5 w-5 mr-3 animate-spin text-primary-500 rounded-full border-4 border-solid border-current border-r-transparent align-[-0.125em] motion-reduce:animate-[spin_1.5s_linear_infinite]","aria-hidden","true",4,"ngIf"],[4,"ngIf"],["type","button",1,"mt-4","text-blue-500",3,"click"],["aria-hidden","true",1,"inline-block","h-5","w-5","mr-3","animate-spin","text-primary-500","rounded-full","border-4","border-solid","border-current","border-r-transparent","align-[-0.125em]","motion-reduce:animate-[spin_1.5s_linear_infinite]"]],template:function(n,o){1&n&&(e.j41(0,"div",0)(1,"h3",1),e.EFF(2,"Entrar"),e.k0s(),e.j41(3,"form",2),e.bIt("ngSubmit",function(){return o.onSubmit()}),e.j41(4,"label",3),e.EFF(5,"Email:"),e.k0s(),e.nrm(6,"input",4),e.j41(7,"label",5),e.EFF(8,"Senha:"),e.k0s(),e.nrm(9,"input",6),e.j41(10,"button",7),e.DNE(11,y,1,0,"span",8)(12,v,2,0,"span",9),e.k0s(),e.j41(13,"button",10),e.bIt("click",function(){return o.toggleForm.emit()}),e.EFF(14,"N\xe3o possu\xed uma conta ainda? Cadastre-se"),e.k0s()()()),2&n&&(e.R7$(3),e.Y8G("formGroup",o.signinForm),e.R7$(7),e.Y8G("disabled",o.loading||o.signinForm.invalid)("ngClass",e.eq3(5,F,o.loading||o.signinForm.invalid)),e.R7$(),e.Y8G("ngIf",o.loading),e.R7$(),e.Y8G("ngIf",!o.loading))},dependencies:[a.YU,a.bT,i.qT,i.me,i.BC,i.cb,i.YS,i.j4,i.JD],encapsulation:2})}}return t})(),C=(()=>{class t{constructor(r){this.authService=r,this.toggleForm=new e.bkB,this.ngUnsubscribe$=new p.B,this.errMsg="",this.loading=!1,this.createForm()}ngOnDestroy(){this.ngUnsubscribe$.next(!0),this.ngUnsubscribe$.complete()}onSignup(){this.signupForm.valid?this.authService.signup(this.signupForm.value).pipe((0,d.Q)(this.ngUnsubscribe$)).subscribe({next:n=>console.log(n),error:n=>{console.error(n),this.errMsg=n.error.message,this.loading=!1},complete:()=>{this.toggleForm.emit(),this.loading=!1}}):this.errMsg="Please fill in all fields correctly"}createForm(){this.signupForm=new i.gE({fullname:new i.MJ(null,[i.k0.required]),email:new i.MJ(null,[i.k0.required,i.k0.email]),password:new i.MJ(null,[i.k0.required])})}onSubmit(){this.signupForm.valid&&console.log(this.signupForm.value)}static{this.\u0275fac=function(n){return new(n||t)(e.rXU(g.u))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-signup"]],outputs:{toggleForm:"toggleForm"},decls:17,vars:1,consts:[["role","form","aria-labelledby","signup-title",1,"flex","flex-col","items-center","bg-white","p-6","rounded-lg","shadow-md","w-96"],["id","signup-title",1,"text-xl","font-medium","mb-4","text-[#FA5A50]"],[1,"flex","flex-col","w-full","gap-y-4",3,"ngSubmit","formGroup"],["for","document",1,"mt-2","sr-only"],["id","document","formControlName","document","placeholder","Documento","required","","aria-label","Documento",1,"p-2","border","border-gray-300","rounded"],["for","email",1,"mt-2","sr-only"],["id","email","type","email","formControlName","email","placeholder","Email","required","","aria-label","Email",1,"p-2","border","border-gray-300","rounded"],["for","password",1,"mt-2","sr-only"],["id","password","type","password","formControlName","password","placeholder","Senha","required","","aria-label","Senha",1,"p-2","border","border-gray-300","rounded"],["type","submit",1,"mt-4","bg-[#A63832]","text-white","p-2","rounded","hover:bg-[#D94A41]","transition"],["type","button",1,"mt-2","text-blue-500",3,"click"]],template:function(n,o){1&n&&(e.j41(0,"div",0)(1,"h3",1),e.EFF(2,"Cadastre-se"),e.k0s(),e.j41(3,"form",2),e.bIt("ngSubmit",function(){return o.onSubmit()}),e.j41(4,"label",3),e.EFF(5,"Documento:"),e.k0s(),e.nrm(6,"input",4),e.j41(7,"label",5),e.EFF(8,"Email:"),e.k0s(),e.nrm(9,"input",6),e.j41(10,"label",7),e.EFF(11,"Senha:"),e.k0s(),e.nrm(12,"input",8),e.j41(13,"button",9),e.EFF(14,"Cadastre-se"),e.k0s(),e.j41(15,"button",10),e.bIt("click",function(){return o.toggleForm.emit()}),e.EFF(16,"J\xe1 possui uma conta? Fa\xe7a seu login!"),e.k0s()()()),2&n&&(e.R7$(3),e.Y8G("formGroup",o.signupForm))},dependencies:[i.qT,i.me,i.BC,i.cb,i.YS,i.j4,i.JD]})}}return t})();function w(t,m){if(1&t){const r=e.RV6();e.j41(0,"div",9)(1,"app-signin",10),e.bIt("toggleForm",function(){e.eBV(r);const o=e.XpG();return e.Njj(o.toggleForm())}),e.k0s()()}if(2&t){const r=e.XpG();e.Y8G("ngClass",r.showLogin?"opacity-100":"opacity-0")}}function S(t,m){if(1&t){const r=e.RV6();e.j41(0,"div",9)(1,"app-signup",10),e.bIt("toggleForm",function(){e.eBV(r);const o=e.XpG();return e.Njj(o.toggleForm())}),e.k0s()()}if(2&t){const r=e.XpG();e.Y8G("ngClass",r.showLogin?"opacity-0":"opacity-100")}}let h=(()=>{class t{constructor(){this.showLogin=!0}toggleForm(){this.showLogin=!this.showLogin}get dynamicText(){return this.showLogin?"Fa\xe7a seu login para acessar cada perfil!":"Cadastre-se agora para aproveitar o melhor da plataforma!"}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-auth"]],decls:13,vars:3,consts:[["role","region","aria-labelledby","main-title",1,"max-h-full"],[1,"flex","bg-white","border","border-b-4","border-b-[#FA5A50]","text-[#FA5A50]","text-left","items-center","lg:px-16","px-10","py-4","lg:h-32"],["id","main-title",1,"text-md","lg:text-3xl","font-medium"],[1,"flex","flex-col","lg:flex-row","h-1/2","lg:px-16","px-10","py-6","lg:mt-16"],[1,"flex-1","lg:flex","flex-col","items-start","hidden"],[1,"text-md","lg:text-2xl","font-medium"],[1,"text-xs","lg:text-lg","mt-2"],[1,"flex-1","flex","items-center","lg:justify-end","justify-center"],["class","transition-opacity duration-300 ease-in-out",3,"ngClass",4,"ngIf"],[1,"transition-opacity","duration-300","ease-in-out",3,"ngClass"],[3,"toggleForm"]],template:function(n,o){1&n&&(e.j41(0,"section",0)(1,"div",1)(2,"h1",2),e.EFF(3,"Conecte-se com as mentorias que importam!"),e.k0s()(),e.j41(4,"div",3)(5,"div",4)(6,"h2",5),e.EFF(7,"Nunca foi t\xe3o f\xe1cil se conectar com mentorias! "),e.k0s(),e.j41(8,"p",6),e.EFF(9),e.k0s()(),e.j41(10,"div",7),e.DNE(11,w,2,1,"div",8)(12,S,2,1,"div",8),e.k0s()()()),2&n&&(e.R7$(9),e.JRh(o.dynamicText),e.R7$(2),e.Y8G("ngIf",o.showLogin),e.R7$(),e.Y8G("ngIf",!o.showLogin))},dependencies:[a.YU,a.bT,x,C],encapsulation:2})}}return t})();const k=[{path:"**",redirectTo:""},{path:"",component:h},{path:"login",component:h,data:{state:"login"}}];let j=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=e.$C({type:t})}static{this.\u0275inj=e.G2t({imports:[l.iI.forChild(k),l.iI]})}}return t})();var E=s(8269);let A=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=e.$C({type:t})}static{this.\u0275inj=e.G2t({imports:[a.MD,f.U,j,i.YN,i.X1,E.h]})}}return t})()}}]);