import{a as G,b as H,c as Z}from"/mentormunch-public/browser/chunk-UWWTR3QB.js";import{$ as z,C as x,D as q,W as f,X as B,Y as U,Z as V,ca as O,t as j,w as F,x as R,y as L,z as N}from"/mentormunch-public/browser/chunk-4D6FNTVM.js";import"/mentormunch-public/browser/chunk-EJJBCPAK.js";import{Ab as t,Bb as v,Fb as k,Gc as A,Hb as w,Ib as S,Ic as T,Sb as l,Tb as s,Va as _,Xa as o,Ya as m,a as y,b as C,ba as u,d as M,ka as E,la as c,mb as h,qb as p,sa as I,ta as P,zb as i}from"/mentormunch-public/browser/chunk-SB7U3PCE.js";function Q(n,b){n&1&&(i(0,"div",3),v(1,"app-spinner"),t())}function W(n,b){if(n&1){let e=k();i(0,"mat-tab",20)(1,"app-table",21),w("firstAction",function(a){I(e);let d=S(2);return P(d.onFirstAction(a))}),t()()}if(n&2){let e=S(2);o(),p("dataSource",e.dataSourceMentorias)("displayedColumns",e.displayedColumnsMentorias)("enableFilter",!1)("enableAction1",!0)("enableAction2",!1)}}function X(n,b){if(n&1&&(i(0,"div",4)(1,"p",5),l(2,"Perfil"),t(),v(3,"img",6),i(4,"div",7)(5,"h1",8),l(6),t(),i(7,"p",9),l(8),t(),i(9,"p",9),l(10),t()(),i(11,"mat-tab-group",10)(12,"mat-tab",11)(13,"div",12)(14,"div",13)(15,"div",14)(16,"div",15)(17,"p",16),l(18,"Nome completo:"),t(),i(19,"p"),l(20),t()(),i(21,"div",15)(22,"p",16),l(23,"CPF:"),t(),i(24,"p"),l(25),t()(),i(26,"div",15)(27,"p",16),l(28,"Email:"),t(),i(29,"p"),l(30),t()(),i(31,"div",15)(32,"p",16),l(33,"LinkedIn:"),t(),i(34,"a",17),l(35),t()(),i(36,"div",15)(37,"p",16),l(38,"Endere\xE7o:"),t(),i(39,"p"),l(40),t()()(),i(41,"div",14)(42,"div",15)(43,"p",16),l(44,"Cidade:"),t(),i(45,"p"),l(46),t()(),i(47,"div",15)(48,"p",16),l(49,"Pa\xEDs:"),t(),i(50,"p"),l(51,"Brasil"),t()(),i(52,"div",15)(53,"p",16),l(54,"CEP/ZIP Code:"),t(),i(55,"p"),l(56),t()(),i(57,"div",15)(58,"p",16),l(59,"Estado:"),t(),i(60,"p"),l(61),t()()()(),v(62,"app-table",18),t()(),h(63,W,2,5,"mat-tab",19),t()()),n&2){let e=S();o(6),s(e.perfilData==null?null:e.perfilData.nome.split(" ")[0]),o(2),s(e.perfilData==null?null:e.perfilData.pronomes),o(2),s(e.perfilData==null?null:e.perfilData.idade),o(10),s(e.perfilData==null?null:e.perfilData.nome),o(5),s(e.perfilData==null?null:e.perfilData.cpf),o(5),s(e.perfilData==null?null:e.perfilData.email),o(4),p("href",e.perfilData==null?null:e.perfilData.linkedin,_),o(),s(e.perfilData==null?null:e.perfilData.linkedin),o(5),s(e.getEnderecoSmall(e.perfilData==null?null:e.perfilData.endereco)),o(6),s(e.getCidade(e.perfilData==null?null:e.perfilData.endereco)),o(10),s(e.getCep(e.perfilData==null?null:e.perfilData.endereco)),o(5),s(e.perfilData==null?null:e.perfilData.endereco.split("/")[1]),o(),p("dataSource",e.dataSourceSkills)("displayedColumns",e.displayedColumnsSkills)("enableFilter",!1)("enableAction1",!1)("enableAction2",!1),o(),p("ngIf",e.userLogger=="aluno")}}var D=(()=>{class n{constructor(e,r,a,d,g){this.dialog=e,this.alunoService=r,this.sessionService=a,this.professorService=d,this.activatedRoute=g,this.elementDataAvaliacao=[],this.elementDataMentoriasPerfil=[],this.dataSourceMentorias=new f(this.elementDataMentoriasPerfil),this.displayedColumnsMentorias=["professor","skill","nivel","n de sessoes"],this.dataSourceSkills=new f(this.elementDataAvaliacao)}ngOnInit(){return M(this,null,function*(){let e=null,r=this.sessionService.getAccessToken();if(this.activatedRoute.snapshot.queryParams.id&&this.activatedRoute.snapshot.queryParams.perfil)e={id:this.activatedRoute.snapshot.queryParams.id,perfil:this.activatedRoute.snapshot.queryParams.perfil};else{let a=yield this.sessionService.getUserData();e=q.parseUserData(a)}if(e.perfil==="aluno"){this.userLogger="aluno",this.perfilData=(yield this.alunoService.getAlunoById(e.id,r).toPromise()).body,this.elementDataAvaliacao=this.perfilData.talentos.map(d=>({skill:d.nome,avaliacao:d.avaliacao.toString()})),this.displayedColumnsSkills=["skill","avaliacao"];let a=(yield this.alunoService.getMentoriasFromAlunosById(e.id,r).toPromise()).body;this.elementDataMentoriasPerfil=a.map(d=>C(y({},d),{skill:d.mentoria,nivel:this.elementDataAvaliacao.find(g=>g.skill===d.mentoria).avaliacao,"n de sessoes":d.sessoes.length.toString()}))}else e.perfil==="professor"&&(this.userLogger="professor",this.perfilData=(yield this.professorService.getProfessorById(e.id,r).toPromise()).body,this.elementDataAvaliacao=this.perfilData.talentos.map(a=>({skill:a})),this.displayedColumnsSkills=["skill"]);this.dataSourceMentorias=new f(this.elementDataMentoriasPerfil),this.dataSourceSkills=new f(this.elementDataAvaliacao)})}onFirstAction(e){this.dialog.open(V,{width:"800px",data:{mentoria:e}})}getCep(e){return e.replace(/\D/g,"")}getEnderecoSmall(e){return e.split(/[0-9]/)[0]}getCidade(e){let r=e.split("/")[0].split(" ");return r[r.length-2]}static{this.\u0275fac=function(r){return new(r||n)(m(U),m(R),m(j),m(F),m(N))}}static{this.\u0275cmp=E({type:n,selectors:[["app-perfil"]],decls:3,vars:2,consts:[["role","region","aria-labelledby","perfil-title",1,"flex","w-full","flex-col","h-fit","justify-center","items-center"],["class","flex justify-center items-center","aria-live","polite",4,"ngIf"],["class","flex flex-col w-full mb-32 px-8 mt-4 lg:px-32 lg:mt-8 items-center ",4,"ngIf"],["aria-live","polite",1,"flex","justify-center","items-center"],[1,"flex","flex-col","w-full","mb-32","px-8","mt-4","lg:px-32","lg:mt-8","items-center"],["id","perfil-title",1,"text-2xl","font-medium","self-start"],["src","https://xsgames.co/randomusers/avatar.php?g=pixel","loading","lazy","width","400","alt","Profile Image",1,"mb-4","rounded-full","w-80","h-80"],[1,"text-center","mb-6"],[1,"text-lg","font-bold"],[1,"text-sm"],[1,"w-full","!max-w-4xl","border-solid","border-2","border-gray-400","p-2","rounded-lg","bg-white"],["label","Perfil"],[1,"p-4"],[1,"grid","grid-cols-1","lg:grid-cols-2","lg:gap-4","mb-2"],[1,"flex","flex-col","gap-1"],[1,"flex","flex-row","gap-2"],[1,"font-semibold"],["target","_blank",1,"text-blue-500","hover:underline",3,"href"],[3,"dataSource","displayedColumns","enableFilter","enableAction1","enableAction2"],["label","Mentorias",4,"ngIf"],["label","Mentorias"],[3,"firstAction","dataSource","displayedColumns","enableFilter","enableAction1","enableAction2"]],template:function(r,a){r&1&&(i(0,"section",0),h(1,Q,2,0,"div",1)(2,X,64,18,"div",2),t()),r&2&&(o(),p("ngIf",(a.dataSourceMentorias==null||a.dataSourceMentorias.data==null?null:a.dataSourceMentorias.data.length)==0&&a.userLogger!="professor"||(a.dataSourceSkills==null||a.dataSourceSkills.data==null?null:a.dataSourceSkills.data.length)==0),o(),p("ngIf",((a.dataSourceMentorias==null||a.dataSourceMentorias.data==null?null:a.dataSourceMentorias.data.length)!=0||a.userLogger=="professor")&&(a.dataSourceSkills==null||a.dataSourceSkills.data==null?null:a.dataSourceSkills.data.length)!=0))},dependencies:[A,z,B,G,H],styles:["[_nghost-%COMP%]{height:100%!important;display:flex}"]})}}return n})();var Y=[{path:"**",redirectTo:""},{path:"",component:D},{path:"perfil",component:D}],K=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=c({type:n})}static{this.\u0275inj=u({imports:[x.forChild(Y),x]})}}return n})();var Ce=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=c({type:n})}static{this.\u0275inj=u({imports:[T,L,K,O,Z]})}}return n})();export{Ce as PerfilModule};
