"use strict";(self.webpackChunkmentormunch_public=self.webpackChunkmentormunch_public||[]).push([[531],{6531:(T,p,s)=>{s.r(p),s.d(p,{AuthModule:()=>U});var a=s(177),o=s(9417),f=s(3175),u=s(8498),b=s(467),t=s(4438),m=s(4686),d=s(1413),g=s(6977),F=s(9391);const y=e=>({"bg-gray-300 hover:bg-gray-300":e});function v(e,c){1&e&&t.nrm(0,"span",11)}function x(e,c){1&e&&(t.j41(0,"span"),t.EFF(1,"Entrar"),t.k0s())}let C=(()=>{class e{constructor(r,n,i){this.fb=r,this.authService=n,this.router=i,this.ngUnsubscribe$=new d.B,this.toggleForm=new t.bkB,this.loading=!1}ngOnInit(){this.createForm()}ngOnDestroy(){this.ngUnsubscribe$.next(!0),this.ngUnsubscribe$.complete()}onSubmit(){this.loading=!0,this.signinForm.valid&&this.authService.signin(this.signinForm.value).pipe((0,g.Q)(this.ngUnsubscribe$)).subscribe({next:n=>{this.authService.storeSessionData(n.access_token);let i=F._.parseJwt(n.access_token);this.router.navigate("professor"===i.perfil||"aluno"===i.perfil?["/mentorias"]:["/talentos"])},error:n=>{console.error(n),this.loading=!1},complete:()=>{this.loading=!1}})}createForm(){this.signinForm=this.fb.group({email:["",[o.k0.required,o.k0.email]],password:["",o.k0.required]})}static{this.\u0275fac=function(n){return new(n||e)(t.rXU(o.ok),t.rXU(m.u),t.rXU(u.Ix))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-signin"]],outputs:{toggleForm:"toggleForm"},decls:15,vars:7,consts:[["role","form","aria-labelledby","signin-title",1,"flex","flex-col","items-center","bg-white","p-6","rounded-lg","shadow-md","w-96"],["id","signin-title",1,"text-xl","font-medium","mb-4","text-[#FA5A50]"],[1,"flex","flex-col","w-full","gap-y-4",3,"ngSubmit","formGroup"],["for","email",1,"mt-2","sr-only"],["id","email","type","email","formControlName","email","placeholder","Email","required","","aria-label","Email",1,"p-2","border","border-gray-300","rounded"],["for","password",1,"mt-2","sr-only"],["id","password","type","password","formControlName","password","placeholder","Senha","required","","aria-label","Senha",1,"p-2","border","border-gray-300","rounded"],["type","submit",1,"mt-4","bg-[#A63832]","text-white","p-2","rounded","hover:bg-[#D94A41]","transition",3,"disabled","ngClass"],["class","inline-block h-5 w-5 mr-3 animate-spin text-primary-500 rounded-full border-4 border-solid border-current border-r-transparent align-[-0.125em] motion-reduce:animate-[spin_1.5s_linear_infinite]","aria-hidden","true",4,"ngIf"],[4,"ngIf"],["type","button",1,"mt-4","text-blue-500",3,"click"],["aria-hidden","true",1,"inline-block","h-5","w-5","mr-3","animate-spin","text-primary-500","rounded-full","border-4","border-solid","border-current","border-r-transparent","align-[-0.125em]","motion-reduce:animate-[spin_1.5s_linear_infinite]"]],template:function(n,i){1&n&&(t.j41(0,"div",0)(1,"h3",1),t.EFF(2,"Entrar"),t.k0s(),t.j41(3,"form",2),t.bIt("ngSubmit",function(){return i.onSubmit()}),t.j41(4,"label",3),t.EFF(5,"Email:"),t.k0s(),t.nrm(6,"input",4),t.j41(7,"label",5),t.EFF(8,"Senha:"),t.k0s(),t.nrm(9,"input",6),t.j41(10,"button",7),t.DNE(11,v,1,0,"span",8)(12,x,2,0,"span",9),t.k0s(),t.j41(13,"button",10),t.bIt("click",function(){return i.toggleForm.emit()}),t.EFF(14,"N\xe3o possu\xed uma conta ainda? Cadastre-se"),t.k0s()()()),2&n&&(t.R7$(3),t.Y8G("formGroup",i.signinForm),t.R7$(7),t.Y8G("disabled",i.loading||i.signinForm.invalid)("ngClass",t.eq3(5,y,i.loading||i.signinForm.invalid)),t.R7$(),t.Y8G("ngIf",i.loading),t.R7$(),t.Y8G("ngIf",!i.loading))},dependencies:[a.YU,a.bT,o.qT,o.me,o.BC,o.cb,o.YS,o.j4,o.JD],encapsulation:2})}}return e})(),S=(()=>{class e{constructor(r){this.authService=r,this.toggleForm=new t.bkB,this.ngUnsubscribe$=new d.B,this.errMsg="",this.loading=!1,this.createForm()}ngOnDestroy(){this.ngUnsubscribe$.next(!0),this.ngUnsubscribe$.complete()}onSignup(){this.signupForm.valid?this.authService.signup(this.signupForm.value).pipe((0,g.Q)(this.ngUnsubscribe$)).subscribe({next:n=>console.log(n),error:n=>{console.error(n),this.errMsg=n.error.message,this.loading=!1},complete:()=>{this.toggleForm.emit(),this.loading=!1}}):this.errMsg="Please fill in all fields correctly"}createForm(){this.signupForm=new o.gE({fullname:new o.MJ(null,[o.k0.required]),email:new o.MJ(null,[o.k0.required,o.k0.email]),password:new o.MJ(null,[o.k0.required])})}onSubmit(){this.signupForm.valid&&console.log(this.signupForm.value)}static{this.\u0275fac=function(n){return new(n||e)(t.rXU(m.u))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-signup"]],outputs:{toggleForm:"toggleForm"},decls:17,vars:1,consts:[["role","form","aria-labelledby","signup-title",1,"flex","flex-col","items-center","bg-white","p-6","rounded-lg","shadow-md","w-96"],["id","signup-title",1,"text-xl","font-medium","mb-4","text-[#FA5A50]"],[1,"flex","flex-col","w-full","gap-y-4",3,"ngSubmit","formGroup"],["for","document",1,"mt-2","sr-only"],["id","document","formControlName","document","placeholder","Documento","required","","aria-label","Documento",1,"p-2","border","border-gray-300","rounded"],["for","email",1,"mt-2","sr-only"],["id","email","type","email","formControlName","email","placeholder","Email","required","","aria-label","Email",1,"p-2","border","border-gray-300","rounded"],["for","password",1,"mt-2","sr-only"],["id","password","type","password","formControlName","password","placeholder","Senha","required","","aria-label","Senha",1,"p-2","border","border-gray-300","rounded"],["type","submit",1,"mt-4","bg-[#A63832]","text-white","p-2","rounded","hover:bg-[#D94A41]","transition"],["type","button",1,"mt-2","text-blue-500",3,"click"]],template:function(n,i){1&n&&(t.j41(0,"div",0)(1,"h3",1),t.EFF(2,"Cadastre-se"),t.k0s(),t.j41(3,"form",2),t.bIt("ngSubmit",function(){return i.onSubmit()}),t.j41(4,"label",3),t.EFF(5,"Documento:"),t.k0s(),t.nrm(6,"input",4),t.j41(7,"label",5),t.EFF(8,"Email:"),t.k0s(),t.nrm(9,"input",6),t.j41(10,"label",7),t.EFF(11,"Senha:"),t.k0s(),t.nrm(12,"input",8),t.j41(13,"button",9),t.EFF(14,"Cadastre-se"),t.k0s(),t.j41(15,"button",10),t.bIt("click",function(){return i.toggleForm.emit()}),t.EFF(16,"J\xe1 possui uma conta? Fa\xe7a seu login!"),t.k0s()()()),2&n&&(t.R7$(3),t.Y8G("formGroup",i.signupForm))},dependencies:[o.qT,o.me,o.BC,o.cb,o.YS,o.j4,o.JD]})}}return e})();function w(e,c){if(1&e){const r=t.RV6();t.j41(0,"div",9)(1,"app-signin",10),t.bIt("toggleForm",function(){t.eBV(r);const i=t.XpG();return t.Njj(i.toggleForm())}),t.k0s()()}if(2&e){const r=t.XpG();t.Y8G("ngClass",r.showLogin?"opacity-100":"opacity-0")}}function k(e,c){if(1&e){const r=t.RV6();t.j41(0,"div",9)(1,"app-signup",10),t.bIt("toggleForm",function(){t.eBV(r);const i=t.XpG();return t.Njj(i.toggleForm())}),t.k0s()()}if(2&e){const r=t.XpG();t.Y8G("ngClass",r.showLogin?"opacity-0":"opacity-100")}}let h=(()=>{class e{constructor(r,n){this.activatedRoute=r,this.authService=n,this.showLogin=!0}ngOnInit(){var r=this;this.activatedRoute.url.subscribe(function(){var n=(0,b.A)(function*(i){r.showLogin="login"===i[0].path;let l=yield r.authService.getUserData();console.log(l)});return function(i){return n.apply(this,arguments)}}())}toggleForm(){this.showLogin=!this.showLogin}get dynamicText(){return this.showLogin?"Fa\xe7a seu login para acessar cada perfil!":"Cadastre-se agora para aproveitar o melhor da plataforma!"}static{this.\u0275fac=function(n){return new(n||e)(t.rXU(u.nX),t.rXU(m.u))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-auth"]],decls:13,vars:3,consts:[["role","region","aria-labelledby","main-title",1,"max-h-full"],[1,"flex","bg-white","border","border-b-4","border-b-[#FA5A50]","text-[#FA5A50]","text-left","items-center","lg:px-16","px-10","py-4","lg:h-32"],["id","main-title",1,"text-md","lg:text-3xl","font-medium"],[1,"flex","flex-col","lg:flex-row","h-1/2","lg:px-16","px-10","py-6","lg:mt-16"],[1,"flex-1","lg:flex","flex-col","items-start","hidden"],[1,"text-md","lg:text-2xl","font-medium"],[1,"text-xs","lg:text-lg","mt-2"],[1,"flex-1","flex","items-center","lg:justify-end","justify-center"],["class","transition-opacity duration-300 ease-in-out",3,"ngClass",4,"ngIf"],[1,"transition-opacity","duration-300","ease-in-out",3,"ngClass"],[3,"toggleForm"]],template:function(n,i){1&n&&(t.j41(0,"section",0)(1,"div",1)(2,"h1",2),t.EFF(3,"Conecte-se com as mentorias que importam!"),t.k0s()(),t.j41(4,"div",3)(5,"div",4)(6,"h2",5),t.EFF(7,"Nunca foi t\xe3o f\xe1cil se conectar com mentorias! "),t.k0s(),t.j41(8,"p",6),t.EFF(9),t.k0s()(),t.j41(10,"div",7),t.DNE(11,w,2,1,"div",8)(12,k,2,1,"div",8),t.k0s()()()),2&n&&(t.R7$(9),t.JRh(i.dynamicText),t.R7$(2),t.Y8G("ngIf",i.showLogin),t.R7$(),t.Y8G("ngIf",!i.showLogin))},dependencies:[a.YU,a.bT,C,S],encapsulation:2})}}return e})();const j=[{path:"**",redirectTo:""},{path:"",component:h},{path:"login",component:h,data:{state:"login"}}];let E=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=t.$C({type:e})}static{this.\u0275inj=t.G2t({imports:[u.iI.forChild(j),u.iI]})}}return e})();var A=s(8269);let U=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=t.$C({type:e})}static{this.\u0275inj=t.G2t({imports:[a.MD,f.U,E,o.YN,o.X1,A.h]})}}return e})()}}]);