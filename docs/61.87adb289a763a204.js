"use strict";(self.webpackChunkmentormunch_public=self.webpackChunkmentormunch_public||[]).push([[61],{9061:($,u,n)=>{n.r(u),n.d(u,{PerfilModule:()=>I});var f=n(177),v=n(3175),h=n(8269),d=n(8498),g=n(467),r=n(9159),F=n(223),S=n(9391),e=n(4438),D=n(5351),k=n(4071),y=n(6449),R=n(4341),b=n(5417),j=n(1517),p=n(6850);function E(t,m){1&t&&(e.j41(0,"div",3),e.nrm(1,"app-spinner"),e.k0s())}function C(t,m){if(1&t){const l=e.RV6();e.j41(0,"mat-tab",20)(1,"app-table",21),e.bIt("firstAction",function(i){e.eBV(l);const s=e.XpG(2);return e.Njj(s.onFirstAction(i))}),e.k0s()()}if(2&t){const l=e.XpG(2);e.R7$(),e.Y8G("dataSource",l.dataSourceMentorias)("displayedColumns",l.displayedColumnsMentorias)("enableFilter",!1)("enableAction1",!0)("enableAction2",!1)}}function P(t,m){if(1&t&&(e.j41(0,"div",4)(1,"p",5),e.EFF(2,"Perfil"),e.k0s(),e.nrm(3,"img",6),e.j41(4,"div",7)(5,"h1",8),e.EFF(6),e.k0s(),e.j41(7,"p",9),e.EFF(8),e.k0s(),e.j41(9,"p",9),e.EFF(10),e.k0s()(),e.j41(11,"mat-tab-group",10)(12,"mat-tab",11)(13,"div",12)(14,"div",13)(15,"div",14)(16,"div",15)(17,"p",16),e.EFF(18,"Nome completo:"),e.k0s(),e.j41(19,"p"),e.EFF(20),e.k0s()(),e.j41(21,"div",15)(22,"p",16),e.EFF(23,"CPF:"),e.k0s(),e.j41(24,"p"),e.EFF(25),e.k0s()(),e.j41(26,"div",15)(27,"p",16),e.EFF(28,"Email:"),e.k0s(),e.j41(29,"p"),e.EFF(30),e.k0s()(),e.j41(31,"div",15)(32,"p",16),e.EFF(33,"LinkedIn:"),e.k0s(),e.j41(34,"a",17),e.EFF(35),e.k0s()(),e.j41(36,"div",15)(37,"p",16),e.EFF(38,"Endere\xe7o:"),e.k0s(),e.j41(39,"p"),e.EFF(40),e.k0s()()(),e.j41(41,"div",14)(42,"div",15)(43,"p",16),e.EFF(44,"Cidade:"),e.k0s(),e.j41(45,"p"),e.EFF(46),e.k0s()(),e.j41(47,"div",15)(48,"p",16),e.EFF(49,"Pa\xeds:"),e.k0s(),e.j41(50,"p"),e.EFF(51,"Brasil"),e.k0s()(),e.j41(52,"div",15)(53,"p",16),e.EFF(54,"CEP/ZIP Code:"),e.k0s(),e.j41(55,"p"),e.EFF(56),e.k0s()(),e.j41(57,"div",15)(58,"p",16),e.EFF(59,"Estado:"),e.k0s(),e.j41(60,"p"),e.EFF(61),e.k0s()()()(),e.nrm(62,"app-table",18),e.k0s()(),e.DNE(63,C,2,5,"mat-tab",19),e.k0s()()),2&t){const l=e.XpG();e.R7$(6),e.JRh(null==l.perfilData?null:l.perfilData.nome.split(" ")[0]),e.R7$(2),e.JRh(null==l.perfilData?null:l.perfilData.pronomes),e.R7$(2),e.JRh(null==l.perfilData?null:l.perfilData.idade),e.R7$(10),e.JRh(null==l.perfilData?null:l.perfilData.nome),e.R7$(5),e.JRh(null==l.perfilData?null:l.perfilData.cpf),e.R7$(5),e.JRh(null==l.perfilData?null:l.perfilData.email),e.R7$(4),e.Y8G("href",null==l.perfilData?null:l.perfilData.linkedin,e.B4B),e.R7$(),e.JRh(null==l.perfilData?null:l.perfilData.linkedin),e.R7$(5),e.JRh(l.getEnderecoSmall(null==l.perfilData?null:l.perfilData.endereco)),e.R7$(6),e.JRh(l.getCidade(null==l.perfilData?null:l.perfilData.endereco)),e.R7$(10),e.JRh(l.getCep(null==l.perfilData?null:l.perfilData.endereco)),e.R7$(5),e.JRh(null==l.perfilData?null:l.perfilData.endereco.split("/")[1]),e.R7$(),e.Y8G("dataSource",l.dataSourceSkills)("displayedColumns",l.displayedColumnsSkills)("enableFilter",!1)("enableAction1",!1)("enableAction2",!1),e.R7$(),e.Y8G("ngIf","aluno"==l.userLogger)}}let c=(()=>{class t{constructor(l,a,i,s,o){this.dialog=l,this.alunoService=a,this.sessionService=i,this.professorService=s,this.activatedRoute=o,this.elementDataAvaliacao=[],this.elementDataMentoriasPerfil=[],this.dataSourceMentorias=new r.I6(this.elementDataMentoriasPerfil),this.displayedColumnsMentorias=["professor","skill","nivel","n de sessoes"],this.dataSourceSkills=new r.I6(this.elementDataAvaliacao)}ngOnInit(){var l=this;return(0,g.A)(function*(){let a=null,i=l.sessionService.getAccessToken();if(l.activatedRoute.snapshot.queryParams.id&&l.activatedRoute.snapshot.queryParams.perfil)a={id:l.activatedRoute.snapshot.queryParams.id,perfil:l.activatedRoute.snapshot.queryParams.perfil};else{let s=yield l.sessionService.getUserData();a=S._.parseUserData(s)}if("aluno"===a.perfil){l.userLogger="aluno",l.perfilData=(yield l.alunoService.getAlunoById(a.id,i).toPromise()).body,l.elementDataAvaliacao=l.perfilData.talentos.map(o=>({skill:o.nome,avaliacao:o.avaliacao.toString()})),l.displayedColumnsSkills=["skill","avaliacao"];let s=(yield l.alunoService.getMentoriasFromAlunosById(a.id,i).toPromise()).body;l.elementDataMentoriasPerfil=s.map(o=>({...o,skill:o.mentoria,nivel:l.elementDataAvaliacao.find(x=>x.skill===o.mentoria).avaliacao,"n de sessoes":o.sessoes.length.toString()}))}else"professor"===a.perfil&&(l.userLogger="professor",l.perfilData=(yield l.professorService.getProfessorById(a.id,i).toPromise()).body,l.elementDataAvaliacao=l.perfilData.talentos.map(s=>({skill:s})),l.displayedColumnsSkills=["skill"]);l.dataSourceMentorias=new r.I6(l.elementDataMentoriasPerfil),l.dataSourceSkills=new r.I6(l.elementDataAvaliacao)})()}onFirstAction(l){this.dialog.open(F.y,{width:"800px",data:{mentoria:l}})}getCep(l){return l.replace(/\D/g,"")}getEnderecoSmall(l){return l.split(/[0-9]/)[0]}getCidade(l){let a=l.split("/")[0].split(" ");return a[a.length-2]}static{this.\u0275fac=function(a){return new(a||t)(e.rXU(D.bZ),e.rXU(k.V),e.rXU(y.Q),e.rXU(R.V),e.rXU(d.nX))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-perfil"]],decls:3,vars:2,consts:[["role","region","aria-labelledby","perfil-title",1,"flex","w-full","flex-col","h-fit","justify-center","items-center"],["class","flex justify-center items-center","aria-live","polite",4,"ngIf"],["class","flex flex-col w-full mb-32 px-8 mt-4 lg:px-32 lg:mt-8 items-center ",4,"ngIf"],["aria-live","polite",1,"flex","justify-center","items-center"],[1,"flex","flex-col","w-full","mb-32","px-8","mt-4","lg:px-32","lg:mt-8","items-center"],["id","perfil-title",1,"text-2xl","font-medium","self-start"],["src","https://xsgames.co/randomusers/avatar.php?g=pixel","loading","lazy","width","400","alt","Profile Image",1,"mb-4","rounded-full","w-80","h-80"],[1,"text-center","mb-6"],[1,"text-lg","font-bold"],[1,"text-sm"],[1,"w-full","!max-w-4xl","border-solid","border-2","border-gray-400","p-2","rounded-lg","bg-white"],["label","Perfil"],[1,"p-4"],[1,"grid","grid-cols-1","lg:grid-cols-2","lg:gap-4","mb-2"],[1,"flex","flex-col","gap-1"],[1,"flex","flex-row","gap-2"],[1,"font-semibold"],["target","_blank",1,"text-blue-500","hover:underline",3,"href"],[3,"dataSource","displayedColumns","enableFilter","enableAction1","enableAction2"],["label","Mentorias",4,"ngIf"],["label","Mentorias"],[3,"firstAction","dataSource","displayedColumns","enableFilter","enableAction1","enableAction2"]],template:function(a,i){1&a&&(e.j41(0,"section",0),e.DNE(1,E,2,0,"div",1)(2,P,64,18,"div",2),e.k0s()),2&a&&(e.R7$(),e.Y8G("ngIf",0==(null==i.dataSourceMentorias||null==i.dataSourceMentorias.data?null:i.dataSourceMentorias.data.length)&&"professor"!=i.userLogger||0==(null==i.dataSourceSkills||null==i.dataSourceSkills.data?null:i.dataSourceSkills.data.length)),e.R7$(),e.Y8G("ngIf",(0!=(null==i.dataSourceMentorias||null==i.dataSourceMentorias.data?null:i.dataSourceMentorias.data.length)||"professor"==i.userLogger)&&0!=(null==i.dataSourceSkills||null==i.dataSourceSkills.data?null:i.dataSourceSkills.data.length)))},dependencies:[f.bT,b.O,j.t,p.mq,p.T8],styles:["[_nghost-%COMP%]{height:100%!important;display:flex}"]})}}return t})();const A=[{path:"**",redirectTo:""},{path:"",component:c},{path:"perfil",component:c}];let M=(()=>{class t{static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275mod=e.$C({type:t})}static{this.\u0275inj=e.G2t({imports:[d.iI.forChild(A),d.iI]})}}return t})(),I=(()=>{class t{static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275mod=e.$C({type:t})}static{this.\u0275inj=e.G2t({imports:[f.MD,v.U,M,h.h,p.RI]})}}return t})()}}]);